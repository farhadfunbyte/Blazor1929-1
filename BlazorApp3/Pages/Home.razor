@page "/"

<PageTitle>خانه</PageTitle>

<h1>Hello</h1>

<input class="btn btn-outline-primary" type="button" value="AddItem" @onclick="AddItem" />

<hr />

@if (people != null)
{
    @foreach (var item in people)
    {
        <text> Person: </text>

        @item.Id  @item.Name @item.Family
        <hr />
    }
}
else
{
    <p><img src="/images/loading.gif" /></p>
}

@code {

    private int a = 1;
    private List<Person> people;

    protected override async Task OnInitializedAsync()
    {
        //System.Threading.Thread.Sleep(5000);

        await Task.Delay(5000);
        people =
            [
                new Person() { Id = 1, Name = "aaaa", Family = "bbbb" },
                new Person() { Id = 2, Name = "ccccc", Family = "dddd" },
                new Person() { Id = 3, Name = "eeeeee", Family = "fffff" }
            ];

    }


    private void AddItem()
    {
        Console.WriteLine("Item Added!");
        a++;
    }


}

